# Java Test Resources Configuration

## `environments.json`

**⚠️ IMPORTANT: This file is auto-generated during Maven build**

This file is automatically copied from `config/environments.json` (the single source of truth) during the Maven `process-test-resources` phase.

**Do NOT edit this file manually.** All changes must be made to `config/environments.json` in the project root.

### Why This File Exists

Java tests use `EnvironmentConfig.java` which loads configuration from the classpath using `getResourceAsStream("/config/environments.json")`. This requires the file to be in `src/test/resources/config/` to be accessible at runtime.

### How It Works

1. **Source of Truth**: `config/environments.json` (project root)
2. **Maven Build**: Automatically copies to `src/test/resources/config/environments.json` during `process-test-resources` phase
3. **Java Tests**: Load from classpath at runtime

### Configuration

The Maven copy is configured in `pom.xml`:

```xml
<plugin>
    <artifactId>maven-resources-plugin</artifactId>
    <executions>
        <execution>
            <id>copy-environments-config</id>
            <phase>process-test-resources</phase>
            <goals>
                <goal>copy-resources</goal>
            </goals>
            <configuration>
                <outputDirectory>${project.basedir}/src/test/resources/config</outputDirectory>
                <resources>
                    <resource>
                        <directory>${project.basedir}/config</directory>
                        <includes>
                            <include>environments.json</include>
                        </includes>
                    </resource>
                </resources>
            </configuration>
        </execution>
    </executions>
</plugin>
```

### Manual Sync (if needed)

If you need to manually sync the file (e.g., before running tests without Maven):

```bash
cp config/environments.json src/test/resources/config/environments.json
```

However, this should rarely be necessary as Maven handles it automatically during build.

### See Also

- `config/README.md` - Main configuration documentation
- `config/environments.json` - Single source of truth
- `src/test/java/com/cjs/qa/config/EnvironmentConfig.java` - Java config loader
